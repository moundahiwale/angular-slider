<div class="slider-container">
  <div class="user-view" #viewport>
    <div
      class="slider"
      *ngIf="ready"
      [style.width.px]="(containerWidth / usersPerView) * users.length"
      [style.transform]="'translateX(-' + (currentIndex * (containerWidth / usersPerView)) + 'px)'"
      aria-live="polite"
      [attr.aria-label]="'Showing users ' + (currentIndex + 1) + ' to ' + Math.min(currentIndex + usersPerView, users.length)"
    >
      <div
        class="user-card"
        *ngFor="let user of users; let i = index"
        [style.width.px]="containerWidth / usersPerView"
        [attr.aria-hidden]="!isVisible(i)"
        [id]="'user-card-' + i"
      >
        <h3>{{ user.name }}</h3>
        <p>{{ user.email }}</p>
      </div>
    </div>
  </div>

  <div class="button-row">
    <button
      class="nav-btn"
      (click)="prevUser()"
      *ngIf="currentIndex !== 0"
      #prevButton
    >
      Previous
    </button>

    <button
      class="nav-btn"
      (click)="nextUser()"
      [disabled]="currentIndex >= users.length - usersPerView"
      #nextButton
    >
      Next
    </button>
  </div>
</div>